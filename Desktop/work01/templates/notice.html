<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ê³µì§€ì‚¬í•­ - ì»¤ë¦¬í•˜ìš°ìŠ¤</title>

  <style>
    :root{
      --bg:#f5f7fb;
      --card:#ffffff;
      --accent:#ff8a00;
      --muted:#6b7280;
      --shadow: 0 6px 18px rgba(16,24,40,0.08);
      --radius:16px;
      --max-width:1200px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", "Helvetica", "Arial", sans-serif;
      background:var(--bg);
      color:#111827;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .container{
      max-width:var(--max-width);
      margin:28px auto;
      padding:0 20px 60px;
    }

    /* HERO */
    .hero{
      text-align:center;
      margin-bottom:22px;
    }
    .hero h1{
      margin:0;
      font-size:28px;
      letter-spacing:-0.4px;
    }
    .hero p{
      margin:8px 0 0;
      color:var(--muted);
    }

    /* Search */
    .search-wrap{
      display:flex;
      justify-content:center;
      margin:18px 0 28px;
    }
    .search{
      width:100%;
      max-width:640px;
      display:flex;
      align-items:center;
      gap:10px;
      background:white;
      padding:10px 14px;
      border-radius:999px;
      box-shadow: 0 4px 12px rgba(2,6,23,0.06);
      border:1px solid rgba(15,23,42,0.03);
    }
    .search input{
      border:0;
      outline:0;
      font-size:15px;
      width:100%;
    }
    .search .icon{
      width:18px;height:18px;opacity:.7;
    }

    /* Grid */
    .grid{
      display:grid;
      grid-template-columns:repeat(1,1fr);
      gap:22px;
      align-items:stretch;
    }
    @media(min-width:640px){ .grid{ grid-template-columns:repeat(2,1fr);} }
    @media(min-width:992px){ .grid{ grid-template-columns:repeat(3,1fr);} }

    /* Card */
    .card{
      background:var(--card);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      transition:transform .22s ease, box-shadow .22s ease;
      cursor:pointer;
      min-height:360px;
    }
    .card:hover{
      transform:translateY(-8px);
      box-shadow:0 18px 40px rgba(16,24,40,0.12);
    }
    .card .thumb{
      height:180px;
      width:100%;
      background:#ddd;
      overflow:hidden;
    }
    .card .thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      transform:scale(1);
      transition:transform .45s ease;
    }
    .card:hover .thumb img{ transform:scale(1.06); }

    .card .body{
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:10px;
      flex:1;
    }

    .tag{
      display:inline-block;
      font-size:12px;
      color:var(--accent);
      background:rgba(255,138,0,0.08);
      padding:6px 10px;
      border-radius:999px;
      font-weight:600;
      width:max-content;
    }

    .title{
      font-size:18px;
      margin:0;
      line-height:1.25;
      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
    }

    .preview{
      color:var(--muted);
      font-size:14px;
      line-height:1.45;
      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
    }

    .meta{
      margin-top:auto;
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:var(--muted);
      font-size:13px;
    }
    .meta .views{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 8px;
      border-radius:999px;
      background:rgba(16,24,40,0.03);
    }

    /* featured (large) */
    .featured{
      background:linear-gradient(90deg, rgba(255,138,0,0.12), rgba(255,211,128,0.06));
      border-radius:16px;
      padding:18px;
      display:flex;
      gap:16px;
      align-items:center;
      margin-bottom:18px;
      box-shadow:0 6px 18px rgba(255,138,0,0.06);
    }
    .featured .info{ flex:1; }
    .featured h3{ margin:0;font-size:20px; }
    .featured p{ margin:6px 0 0; color:var(--muted); }

    .featured .thumb{
      width:180px;
      height:110px;
      border-radius:12px;
      overflow:hidden;
      flex-shrink:0;
    }

    /* footer */
    .footer{
      text-align:center;
      margin-top:34px;
      color:var(--muted);
      font-size:13px;
    }

    /* small helpers */
    .btn{
      background:var(--accent);
      color:white;
      padding:10px 14px;
      border-radius:10px;
      text-decoration:none;
      font-weight:700;
      font-size:14px;
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- HERO -->
    <div class="hero">
      <h1>ğŸ“¢ ì»¤ë¦¬í•˜ìš°ìŠ¤ ê³µì§€</h1>
      <p>ìµœê·¼ ì—…ë°ì´íŠ¸, ì´ë²¤íŠ¸, ì ê²€ ë“± í˜•ë‹˜ ê°€ê²Œ ì†Œì‹ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.</p>
    </div>

    <!-- SEARCH -->
    <div class="search-wrap">
      <div class="search" role="search">
        <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#374151" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke="#374151" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></circle></svg>
        <input id="q" placeholder="ê³µì§€ ì œëª©ìœ¼ë¡œ ê²€ìƒ‰í•˜ì„¸ìš” (ì˜ˆ: ì ê²€, ì´ë²¤íŠ¸)" />
        <a id="clearBtn" style="display:none; text-decoration:none; color:var(--muted); font-size:13px;">ì§€ìš°ê¸°</a>
      </div>
    </div>

    <!-- FEATURED -->
    <div id="featured" class="featured" style="display:none;">
      <div class="info">
        <h3 id="featured-title"></h3>
        <p id="featured-preview"></p>
        <div style="margin-top:10px;">
          <span id="featured-date" style="color:var(--muted); font-size:13px;"></span>
        </div>
      </div>
      <div class="thumb">
        <img id="featured-img" src="" alt="" style="width:100%;height:100%;object-fit:cover;" />
      </div>
    </div>

    <!-- GRID of notices -->
    <div id="grid" class="grid">
      <!-- cards inserted by JS -->
    </div>

    <div class="footer">
      Â© 2025 ì»¤ë¦¬í•˜ìš°ìŠ¤ â€” ìµœì‹  ê³µì§€ëŠ” ê°€ê²Œ ë°©ë¬¸ ë˜ëŠ” ì „í™”ë¡œë„ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    </div>
  </div>

  <script>
    // ìƒ˜í”Œ ê³µì§€ ë°ì´í„° (ì›í•˜ë©´ ì„œë²„ì—ì„œ ë™ì ìœ¼ë¡œ ì£¼ì…)
    const notices = [
      {
        id:1,
        title:"12ì›” ì„œë¹„ìŠ¤ ì—…ë°ì´íŠ¸ ì•ˆë‚´",
        preview:"ë©”ë‰´ ì¼ë¶€ ê°œì„  ë° í¬ì¸íŠ¸ ì ë¦½ ì‹œìŠ¤í…œì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì²« ë°©ë¬¸ ê³ ê° 10% í• ì¸ ì´ë²¤íŠ¸ ì§„í–‰ ì¤‘!",
        date:"2025-12-01",
        views:210,
        tag:"ì—…ë°ì´íŠ¸",
        img:"static/images/curry.png",
        featured:true
      },
      {
        id:3,
        title:"ì‹ ê·œ ì´ë²¤íŠ¸ ì˜¤í”ˆ!",
        preview:"SNS ê³µìœ ë§Œ í•´ë„ ìŒë£Œ ë¬´ë£Œ ì¿ í°ì„ ë“œë¦½ë‹ˆë‹¤. ì°¸ì—¬ ë°©ë²•ì€ ê³µì§€ ë³¸ë¬¸ì„ í™•ì¸í•˜ì„¸ìš”.",
        date:"2025-11-28",
        views:129,
        tag:"ì´ë²¤íŠ¸",
        img:"static/images/new.png"
      },
      {
        id:4,
        title:"ì—°ë§ íŠ¹ë³„ ë©”ë‰´ ì¶œì‹œ",
        preview:"í¬ë¦¬ìŠ¤ë§ˆìŠ¤ í•œì • ìŠ¤í˜ì…œ ì¹´ë ˆê°€ ì¶œì‹œë©ë‹ˆë‹¤. ìˆ˜ëŸ‰ í•œì •ì´ë‹ˆ ì„œë‘˜ëŸ¬ ì£¼ì„¸ìš”!",
        date:"2025-11-20",
        views:94,
        tag:"ì´ë²¤íŠ¸",
        img:"static/images/christmas.png"
      },
      {
        id:5,
        title:"ì •ê¸° íœ´ë¬´ ì•ˆë‚´",
        preview:"ë§¤ì£¼ ì›”ìš”ì¼ì€ ì •ê¸° íœ´ë¬´ì…ë‹ˆë‹¤. ê³µíœ´ì¼ ê²½ìš° ìš´ì˜ ì—¬ë¶€ëŠ” ë³„ë„ ê³µì§€í•©ë‹ˆë‹¤.",
        date:"2025-10-10",
        views:502,
        tag:"ê³µì§€",
        img:"static/images/break.png"
      }
    ];

    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    const clearBtn = document.getElementById('clearBtn');

    function renderList(list){
      grid.innerHTML = '';
      // If any featured, show the first featured above
      const featured = list.find(n => n.featured);
      const featuredBox = document.getElementById('featured');
      if(featured){
        document.getElementById('featured-title').innerText = featured.title;
        document.getElementById('featured-preview').innerText = featured.preview;
        document.getElementById('featured-date').innerText = featured.date + " â€¢ ì¡°íšŒ " + featured.views;
        document.getElementById('featured-img').src = featured.img;
        featuredBox.style.display = 'flex';
      } else {
        featuredBox.style.display = 'none';
      }

      // non-featured items
      const items = list.filter(n => !n.featured);
      if(items.length === 0){
        grid.innerHTML = '<p style="grid-column:1/-1; text-align:center; color:#6b7280;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
        return;
      }

      items.forEach(n => {
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="thumb"><img src="${n.img}" alt="${escapeHtml(n.title)}"></div>
          <div class="body">
            <span class="tag">#${escapeHtml(n.tag)}</span>
            <h3 class="title">${escapeHtml(n.title)}</h3>
            <p class="preview">${escapeHtml(n.preview)}</p>
            <div class="meta">
              <span class="date">${n.date}</span>
              <span class="views">ğŸ‘ï¸ ${n.views}</span>
            </div>
          </div>
        `;
        // í´ë¦­ ì‹œ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™(ì˜ˆ: /notice/ID)
        card.addEventListener('click', () => {
          // ì˜ˆ: Flask route -> /notice/1
          // window.location.href = `/notice/${n.id}`;
          // í˜„ì¬ëŠ” ëª¨ë‹¬ ëŒ€ì‹  alertë¡œ ë¯¸ë¦¬ë³´ê¸°
          openDetail(n);
        });
        grid.appendChild(card);
      });
    }

    // escape helper
    function escapeHtml(text){
      const map = { '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#039;" };
      return String(text).replace(/[&<>"']/g, m => map[m]);
    }

    function openDetail(n){
      // ê°„ë‹¨í•œ ëª¨ë‹¬ ëŒ€ì²´ (ë¸Œë¼ìš°ì € native)
      const detail = `
${n.title}
${n.date} â€¢ ì¡°íšŒ ${n.views}

${n.preview}

(ìì„¸í•œ ê³µì§€ ë³¸ë¬¸ì€ ê°€ê²Œ ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì‘ì„±)
      `;
      alert(detail);
      // ì‹¤ì œ ì„œë¹„ìŠ¤ë©´ window.location.href = `/notice/${n.id}` ë¡œ ìƒì„¸ ë¼ìš°íŠ¸ë¡œ ì´ë™.
    }

    // ê²€ìƒ‰
    q.addEventListener('input', () => {
      const val = q.value.trim().toLowerCase();
      clearBtn.style.display = val ? 'inline' : 'none';
      const filtered = notices.filter(n => 
        n.title.toLowerCase().includes(val) || n.tag.toLowerCase().includes(val) || n.preview.toLowerCase().includes(val)
      );
      renderList(filtered);
    });

    clearBtn.addEventListener('click', () => {
      q.value = '';
      clearBtn.style.display = 'none';
      renderList(notices);
    });

    // ì´ˆê¸° ë Œë”
    renderList(notices);
  </script>
</body>
</html>
